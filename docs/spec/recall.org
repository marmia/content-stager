* Recall（想起）仕様（MVP）

このドキュメントは、S2（不可視）に滞留するContentの存在を「弱く思い出させる」ための仕組みを定義する。
MVPでは「自動通知」よりも、まずは「観測窓（Shelf一覧）」としてのRecallを整備する。

** 原則（concepts.org準拠）

- 想起は行動要求を伴わない
- 想起は判断を強制しない
- 想起は状態を変化させない（S2→S3等を自動で行わない）

** MVPのRecall定義

MVPでは、Recallを「ユーザーが任意タイミングで見る集約ビュー」として実装する。

- 入口:
  - Shelf一覧（`spec/shelves.org`）
- 表示:
  - 棚の存在と件数、更新時刻のみ（本文は出さない）

** Recallトリガー（MVP）

- 手動（ユーザーが見る）:
  - `list_shelves` 相当の表示を開く（コマンド名は実装側で決める）

※ 定期通知/プッシュ（例: 毎朝のダイジェスト）は将来拡張。

** 「再遭遇カウント」の扱い

`concepts.org` では再遭遇カウントを想定しているが、MVPでは以下とする。

- MVPではDBに「想起イベント」を保存しない（assumed）
  - 理由: まずは匂わせ表示を最短で成立させるため
- 将来的に必要になったら、以下を追加する
  - `recall_events` テーブル（content_id/shelf_key/at等）
  - `contents.recall_count` / `contents.last_recalled_at` 等

** 将来拡張（例）

- Topic意図ラベルの反射:
  - ラベル分布だけを匂わせ表示に出す（本文は出さない）
- 弱い定期提示:
  - 低頻度（週次など）で棚の存在だけを提示する
- Topic再遭遇:
  - 同じTopicが複数回現れたことだけを示す（内容評価しない）

